<!DOCTYPE html>
<html>

    <head>
        <title>Syd test</title>
        <style>
            textarea {
                font-family: "Fira Code", monospace;
            }

            canvas {
                image-rendering: pixelated;
                image-rendering: crisp-edges;
                image-rendering: -moz-crisp-edges;
                image-rendering: -webkit-optimize-contrast;
            }
        </style>
    </head>

    <body>
        <h1>Syd test</h1>
        <p><a href="https://github.com/dragoncoder047/syd?tab=readme-ov-file">(What is this?)</a></p>
        <p><button id="play">Play</button></p>
        <p>Instrument: <textarea id="instrument" rows="2" cols="100">BROKEN RN SORRY</textarea></p>
        <canvas id="oscilloscope" width="800" height="200"></canvas>
        <pre id="log"></pre>
        <script type="module">
            import * as syd from "./build/syd.js";

            function drawSamples(samples, canvas, ctx) {
                const ratio = window.devicePixelRatio || 1;
                const width = canvas.width = (canvas.style.width = 500) * ratio;
                const height = canvas.height = (canvas.style.height = 100) * ratio;
                ctx.strokeStyle = "black";
                ctx.lineWidth = 1;
                ctx.imageSmoothingEnabled = false;
                ctx.clearRect(0, 0, width, height);
                ctx.beginPath();
                ctx.moveTo(0, height / 2);
                for (let i = 0; i < samples.length; i++) {
                    const x = (i / samples.length) * width;
                    const y = (samples[i] + 1) * height / 2;
                    ctx.lineTo(x, y);
                }
                ctx.stroke();
            }
        </script>
    </body>

</html>